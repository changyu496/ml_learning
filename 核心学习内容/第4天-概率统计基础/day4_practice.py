#!/usr/bin/env python3
"""
ç¬¬4å¤©ç¼–ç¨‹ç»ƒä¹ ï¼šç»Ÿè®¡å­¦åŸºç¡€ï¼ˆç»ƒä¹ æ¨¡æ¿ï¼‰
æ—¶é—´ï¼š15-25åˆ†é’Ÿ
ç›®æ ‡ï¼šç»ƒä¹ ä»Šå¤©å­¦çš„3ä¸ªæ¦‚å¿µ

è¯·åœ¨æ ‡è®°çš„åœ°æ–¹å¡«å†™ä»£ç ï¼
"""

import numpy as np
import matplotlib.pyplot as plt

# è®¾ç½®ä¸­æ–‡å­—ä½“
plt.rcParams['font.sans-serif'] = ['Arial Unicode MS', 'SimHei']
plt.rcParams['axes.unicode_minus'] = False

print("ğŸ“ ç¬¬4å¤©ç¼–ç¨‹ç»ƒä¹ ")
print("=" * 30)
print("è¯·åœ¨TODOæ ‡è®°å¤„å¡«å†™ä½ çš„ä»£ç ï¼")
print()

# ==========================================
# ç»ƒä¹ 1ï¼šè®¡ç®—åŸºæœ¬ç»Ÿè®¡é‡
# ==========================================
print("ğŸ”¥ ç»ƒä¹ 1ï¼šè®¡ç®—åŸºæœ¬ç»Ÿè®¡é‡")
print("-" * 20)

# æ•°æ®ï¼šæŸå…¬å¸å‘˜å·¥æœˆè–ªï¼ˆå•ä½ï¼šåƒå…ƒï¼‰
salaries = [8, 12, 15, 18, 22, 25, 28, 35, 45, 80]

print("å‘˜å·¥æœˆè–ªæ•°æ®:", salaries)
print()

# TODO 1.1: è®¡ç®—å¹³å‡å€¼
# æç¤ºï¼šä½¿ç”¨ np.mean(salaries)
mean_salary = 0  # æ›¿æ¢è¿™è¡Œä»£ç 

# TODO 1.2: è®¡ç®—ä¸­ä½æ•°
# æç¤ºï¼šä½¿ç”¨ np.median(salaries)
median_salary = 0  # æ›¿æ¢è¿™è¡Œä»£ç 

# TODO 1.3: è®¡ç®—æ ‡å‡†å·®
# æç¤ºï¼šä½¿ç”¨ np.std(salaries)
std_salary = 0  # æ›¿æ¢è¿™è¡Œä»£ç 

print(f"å¹³å‡è–ªèµ„: {mean_salary:.1f}åƒå…ƒ")
print(f"ä¸­ä½æ•°è–ªèµ„: {median_salary:.1f}åƒå…ƒ")
print(f"è–ªèµ„æ ‡å‡†å·®: {std_salary:.1f}åƒå…ƒ")

# æ€è€ƒé¢˜ï¼šä¸ºä»€ä¹ˆå¹³å‡å€¼æ¯”ä¸­ä½æ•°å¤§ï¼Ÿ
print("\nğŸ¤” æ€è€ƒï¼šä¸ºä»€ä¹ˆå¹³å‡å€¼æ¯”ä¸­ä½æ•°å¤§ï¼Ÿ")
print("ä½ çš„ç­”æ¡ˆï¼š")  
# TODO 1.4: åœ¨è¿™é‡Œå†™å‡ºä½ çš„ç†è§£

print()

# ==========================================
# ç»ƒä¹ 2ï¼šæ¯”è¾ƒä¸¤ç»„æ•°æ®
# ==========================================
print("ğŸ”¥ ç»ƒä¹ 2ï¼šæ¯”è¾ƒä¸¤ç»„æ•°æ®")
print("-" * 20)

# ä¸¤ä¸ªéƒ¨é—¨çš„å·¥ä½œæ»¡æ„åº¦è¯„åˆ†ï¼ˆ1-10åˆ†ï¼‰
dept_A = [7, 8, 7, 9, 8, 7, 8, 9, 8, 7]  # ç¨³å®šéƒ¨é—¨
dept_B = [5, 9, 6, 10, 4, 8, 3, 9, 7, 9]  # æ³¢åŠ¨éƒ¨é—¨

print("éƒ¨é—¨Aæ»¡æ„åº¦:", dept_A)
print("éƒ¨é—¨Bæ»¡æ„åº¦:", dept_B)

# TODO 2.1: è®¡ç®—éƒ¨é—¨Açš„å¹³å‡å€¼å’Œæ ‡å‡†å·®
mean_A = 0  # æ›¿æ¢è¿™è¡Œä»£ç 
std_A = 0   # æ›¿æ¢è¿™è¡Œä»£ç 

# TODO 2.2: è®¡ç®—éƒ¨é—¨Bçš„å¹³å‡å€¼å’Œæ ‡å‡†å·®
mean_B = 0  # æ›¿æ¢è¿™è¡Œä»£ç 
std_B = 0   # æ›¿æ¢è¿™è¡Œä»£ç 

print(f"\néƒ¨é—¨A: å¹³å‡{mean_A:.1f}åˆ†, æ ‡å‡†å·®{std_A:.1f}")
print(f"éƒ¨é—¨B: å¹³å‡{mean_B:.1f}åˆ†, æ ‡å‡†å·®{std_B:.1f}")

# TODO 2.3: åˆ†æå“ªä¸ªéƒ¨é—¨æ›´ç¨³å®š
print("\nä½ çš„åˆ†æï¼š")
# åœ¨è¿™é‡Œå†™å‡ºä½ çš„åˆ†æ

print()

# ==========================================
# ç»ƒä¹ 3ï¼šæ­£æ€åˆ†å¸ƒåº”ç”¨
# ==========================================
print("ğŸ”¥ ç»ƒä¹ 3ï¼šæ­£æ€åˆ†å¸ƒåº”ç”¨")
print("-" * 20)

# æ¨¡æ‹Ÿè€ƒè¯•æˆç»©ï¼šå¹³å‡75åˆ†ï¼Œæ ‡å‡†å·®12åˆ†
np.random.seed(42)  # å›ºå®šéšæœºç§å­ï¼Œç¡®ä¿ç»“æœä¸€è‡´
exam_scores = np.random.normal(75, 12, 100)

print("æ¨¡æ‹Ÿ100ä¸ªå­¦ç”Ÿçš„è€ƒè¯•æˆç»©")
mean_score = np.mean(exam_scores)
std_score = np.std(exam_scores)
print(f"å¹³å‡åˆ†: {mean_score:.1f}")
print(f"æ ‡å‡†å·®: {std_score:.1f}")

# TODO 3.1: è®¡ç®—1ä¸ªæ ‡å‡†å·®èŒƒå›´å†…çš„å­¦ç”Ÿæ¯”ä¾‹
# æç¤ºï¼š
# 1. å…ˆè®¡ç®—æ¡ä»¶ï¼š(exam_scores >= mean_score - std_score) & (exam_scores <= mean_score + std_score)
# 2. ç”¨ np.sum() è®¡ç®—æ»¡è¶³æ¡ä»¶çš„ä¸ªæ•°
# 3. é™¤ä»¥æ€»æ•° len(exam_scores) å¾—åˆ°æ¯”ä¾‹

within_1_std = 0  # æ›¿æ¢è¿™è¡Œä»£ç 

# TODO 3.2: è®¡ç®—2ä¸ªæ ‡å‡†å·®èŒƒå›´å†…çš„å­¦ç”Ÿæ¯”ä¾‹
# æç¤ºï¼šç±»ä¼¼ä¸Šé¢ï¼Œä½†æ˜¯ç”¨ 2*std_score

within_2_std = 0  # æ›¿æ¢è¿™è¡Œä»£ç 

print(f"\néªŒè¯68-95-99.7æ³•åˆ™:")
print(f"1ä¸ªæ ‡å‡†å·®å†…: {within_1_std:.1%} (ç†è®ºå€¼68%)")
print(f"2ä¸ªæ ‡å‡†å·®å†…: {within_2_std:.1%} (ç†è®ºå€¼95%)")

# TODO 3.3: æ‰¾å‡º"å¼‚å¸¸"æˆç»©ï¼ˆè¶…è¿‡2ä¸ªæ ‡å‡†å·®çš„æˆç»©ï¼‰
# æç¤ºï¼šä½¿ç”¨æ¡ä»¶ (exam_scores < mean_score - 2*std_score) | (exam_scores > mean_score + 2*std_score)

abnormal_scores = []  # æ›¿æ¢è¿™è¡Œä»£ç 

print(f"\n'å¼‚å¸¸'æˆç»©ä¸ªæ•°: {len(abnormal_scores)}")
if len(abnormal_scores) > 0:
    print(f"å…·ä½“å¼‚å¸¸åˆ†æ•°: {abnormal_scores.round(1)}")

print()

# ==========================================
# ç»ƒä¹ å®Œæˆæ£€æŸ¥
# ==========================================
print("ğŸ‰ ç»ƒä¹ å®Œæˆæ£€æŸ¥")
print("=" * 30)
print("è¯·æ£€æŸ¥ä½ æ˜¯å¦å®Œæˆäº†ï¼š")
print("â–¡ ç»ƒä¹ 1ï¼šè®¡ç®—äº†å¹³å‡å€¼ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®")
print("â–¡ ç»ƒä¹ 2ï¼šæ¯”è¾ƒäº†ä¸¤ç»„æ•°æ®çš„ç¨³å®šæ€§")
print("â–¡ ç»ƒä¹ 3ï¼šåº”ç”¨äº†æ­£æ€åˆ†å¸ƒæ‰¾å¼‚å¸¸å€¼")
print()
print("ğŸ’¡ å¦‚æœé‡åˆ°å›°éš¾ï¼Œå¯ä»¥ï¼š")
print("1. å›é¡¾notebookä¸­çš„ä¾‹å­")
print("2. æŸ¥çœ‹ä¸‹é¢çš„æç¤º")
print("3. é—®æˆ‘å…·ä½“çš„é—®é¢˜")

# ==========================================
# æç¤ºåŒºåŸŸï¼ˆå¦‚æœå¡ä½äº†å¯ä»¥å‚è€ƒï¼‰
# ==========================================
print("\n" + "="*50)
print("ğŸ’¡ æç¤ºåŒºåŸŸï¼ˆå¡ä½äº†å†çœ‹ï¼‰")
print("="*50)

print("\nğŸ“ ç»ƒä¹ 1æç¤º:")
print("mean_salary = np.mean(salaries)")
print("median_salary = np.median(salaries)")
print("std_salary = np.std(salaries)")

print("\nğŸ“ ç»ƒä¹ 2æç¤º:")
print("mean_A = np.mean(dept_A)")
print("std_A = np.std(dept_A)")
print("# æ ‡å‡†å·®å°çš„éƒ¨é—¨æ›´ç¨³å®š")

print("\nğŸ“ ç»ƒä¹ 3æç¤º:")
print("# 1ä¸ªæ ‡å‡†å·®å†…çš„æ¯”ä¾‹:")
print("condition = (exam_scores >= mean_score - std_score) & (exam_scores <= mean_score + std_score)")
print("within_1_std = np.sum(condition) / len(exam_scores)")
print()
print("# å¼‚å¸¸å€¼:")
print("abnormal_scores = exam_scores[(exam_scores < mean_score - 2*std_score) | (exam_scores > mean_score + 2*std_score)]")

print("\nğŸ¯ è®°ä½ï¼šå…ˆè‡ªå·±å°è¯•ï¼Œå†çœ‹æç¤ºï¼")
print("ğŸš€ å®Œæˆåä½ å°±æŒæ¡äº†ç»Ÿè®¡å­¦çš„æ ¸å¿ƒæŠ€èƒ½ï¼") 