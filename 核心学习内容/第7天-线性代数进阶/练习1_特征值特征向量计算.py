"""
ç»ƒä¹ 1ï¼šç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„è®¡ç®—
ç›®æ ‡ï¼šç†è§£å’ŒéªŒè¯ç‰¹å¾å€¼ã€ç‰¹å¾å‘é‡çš„è®¡ç®—è¿‡ç¨‹
"""

import numpy as np

print("ğŸ“š ç»ƒä¹ 1ï¼šç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡")
print("="*50)

# ç»ƒä¹ ä»»åŠ¡
print("\nğŸ¯ ä»»åŠ¡ç›®æ ‡ï¼š")
print("1. è®¡ç®—ç»™å®šçŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡")
print("2. éªŒè¯ Av = Î»v çš„å…³ç³»")
print("3. ç†è§£ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„å‡ ä½•æ„ä¹‰")

# ç»™å®šçŸ©é˜µ
A = np.array([[4, 2], 
              [2, 1]])

print(f"\nğŸ“Š ç»™å®šçŸ©é˜µ A:")
print(A)

# ä»»åŠ¡1 - è®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡
print("\nğŸ“ ä»»åŠ¡1ï¼šè®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡")
print("æç¤ºï¼šä½¿ç”¨ np.linalg.eig() å‡½æ•°")

# ä½ çš„ä»£ç ï¼šâœ… æ­£ç¡®ï¼
eigenvalues, eigenvectors = np.linalg.eig(A)

print(f"ç‰¹å¾å€¼: {eigenvalues}")
print(f"ç‰¹å¾å‘é‡çŸ©é˜µ:\n{eigenvectors}")
print("\nğŸ’¡ è§£é‡Šï¼š")
print("- eigenvalues æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰ç‰¹å¾å€¼")
print("- eigenvectors æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œæ¯ä¸€åˆ—æ˜¯ä¸€ä¸ªç‰¹å¾å‘é‡")

# ä»»åŠ¡2 - éªŒè¯ç‰¹å¾å‘é‡å®šä¹‰
print("\nğŸ“ ä»»åŠ¡2ï¼šéªŒè¯ Av = Î»v")
print("æç¤ºï¼šå¯¹æ¯ä¸ªç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡è¿›è¡ŒéªŒè¯")

print("\nğŸ” è¯¦ç»†éªŒè¯è¿‡ç¨‹ï¼š")
print("ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„å®šä¹‰ï¼šå¦‚æœ Av = Î»vï¼Œé‚£ä¹ˆ v æ˜¯ç‰¹å¾å‘é‡ï¼ŒÎ» æ˜¯ç‰¹å¾å€¼")
print("-" * 60)

# ä¿®æ­£åçš„ä»£ç ï¼š
for i in range(len(eigenvalues)):
    # ğŸ“Œ å…³é”®ç†è§£ï¼š
    # eigenvalues[i] æ˜¯ç¬¬iä¸ªç‰¹å¾å€¼ï¼ˆä¸€ä¸ªæ•°å­—ï¼‰
    # eigenvectors[:, i] æ˜¯ç¬¬iä¸ªç‰¹å¾å‘é‡ï¼ˆä¸€ä¸ªå‘é‡ï¼Œå–ç¬¬iåˆ—ï¼‰
    
    Î» = eigenvalues[i]          # ç¬¬iä¸ªç‰¹å¾å€¼
    v = eigenvectors[:, i]      # ç¬¬iä¸ªç‰¹å¾å‘é‡ï¼ˆæ³¨æ„æ˜¯åˆ—å‘é‡ï¼‰
    
    # è®¡ç®— Av å’Œ Î»v
    Av = A @ v                  # çŸ©é˜µAä¹˜ä»¥ç‰¹å¾å‘é‡v
    Î»v = Î» * v                  # ç‰¹å¾å€¼Î»ä¹˜ä»¥ç‰¹å¾å‘é‡v
    
    # è®¡ç®—å·®å€¼æ¥éªŒè¯
    difference = np.abs(Av - Î»v)
    max_diff = np.max(difference)
    
    print(f"\nğŸ¯ éªŒè¯ç¬¬ {i+1} ä¸ªç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼š")
    print(f"ç‰¹å¾å€¼ Î»{i+1} = {Î»:.6f}")
    print(f"ç‰¹å¾å‘é‡ v{i+1} = [{v[0]:.6f}, {v[1]:.6f}]")
    print(f"Av{i+1} = [{Av[0]:.6f}, {Av[1]:.6f}]")
    print(f"Î»v{i+1} = [{Î»v[0]:.6f}, {Î»v[1]:.6f}]")
    print(f"å·®å€¼ = [{difference[0]:.10f}, {difference[1]:.10f}]")
    print(f"æœ€å¤§å·®å€¼ = {max_diff:.10f}")
    
    if max_diff < 1e-10:
        print("âœ… éªŒè¯æˆåŠŸï¼Av = Î»v")
    else:
        print("âš ï¸  å­˜åœ¨æ•°å€¼è¯¯å·®")

# ä»»åŠ¡3 - åˆ†æç»“æœ
print("\nğŸ“ ä»»åŠ¡3ï¼šåˆ†æç»“æœ")
print("è¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š")
print("1. è¿™ä¸ªçŸ©é˜µæœ‰å‡ ä¸ªç‰¹å¾å€¼ï¼Ÿ")
print("2. å“ªä¸ªç‰¹å¾å€¼æ›´å¤§ï¼Ÿå¯¹åº”çš„ç‰¹å¾å‘é‡æœ‰ä»€ä¹ˆå‡ ä½•æ„ä¹‰ï¼Ÿ")
print("3. éªŒè¯ç»“æœçš„è¯¯å·®æ˜¯å¤šå°‘ï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯å®Œå…¨çš„0ï¼Ÿ")

# ç­”æ¡ˆåˆ†æï¼š
print("\nğŸ“‹ ç­”æ¡ˆåˆ†æï¼š")
print(f"ç­”æ¡ˆ1ï¼šè¿™ä¸ª2Ã—2çŸ©é˜µæœ‰ {len(eigenvalues)} ä¸ªç‰¹å¾å€¼")

# æ‰¾åˆ°æœ€å¤§ç‰¹å¾å€¼
max_idx = np.argmax(eigenvalues)
max_eigenvalue = eigenvalues[max_idx]
max_eigenvector = eigenvectors[:, max_idx]

print(f"ç­”æ¡ˆ2ï¼šæœ€å¤§ç‰¹å¾å€¼æ˜¯ {max_eigenvalue:.6f}")
print(f"      å¯¹åº”çš„ç‰¹å¾å‘é‡æ˜¯ [{max_eigenvector[0]:.6f}, {max_eigenvector[1]:.6f}]")
print(f"      å‡ ä½•æ„ä¹‰ï¼šè¿™ä¸ªæ–¹å‘æ˜¯æ•°æ®å˜æ¢åæ‹‰ä¼¸æœ€å¤šçš„æ–¹å‘")

print(f"ç­”æ¡ˆ3ï¼šæ•°å€¼è¯¯å·®é€šå¸¸åœ¨ 1e-15 é‡çº§ï¼Œè¿™æ˜¯ç”±äºè®¡ç®—æœºæµ®ç‚¹æ•°ç²¾åº¦é™åˆ¶")

print("\nâœ… ç»ƒä¹ 1å®Œæˆï¼")
print("ğŸ’¡ æ ¸å¿ƒç†è§£ï¼šç‰¹å¾å‘é‡æ˜¯çŸ©é˜µå˜æ¢åæ–¹å‘ä¸å˜çš„å‘é‡")
print("ğŸ’¡ å…³é”®å…¬å¼ï¼šAv = Î»v ï¼ˆçŸ©é˜µ Ã— ç‰¹å¾å‘é‡ = ç‰¹å¾å€¼ Ã— ç‰¹å¾å‘é‡ï¼‰")